{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///D:/tripplan/frontend/pages/saved.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useRouter } from 'next/router'\r\n\r\nexport default function Saved() {\r\n  const router = useRouter()\r\n  const [items, setItems] = useState(null)\r\n  const apiUrl = process.env.NEXT_PUBLIC_API_URL || ''\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('access_token')\r\n    if (!token) {\r\n      router.replace('/login')\r\n      return\r\n    }\r\n\r\n    // fetch saved itineraries; prefer cookie-based auth if backend set HttpOnly cookie\r\n    fetch(`${apiUrl}/itineraries`, { headers: { Authorization: `Bearer ${token}` }, credentials: 'include' })\r\n      .then(r => r.json())\r\n      .then(data => setItems(data || []))\r\n      .catch(() => setItems([]))\r\n  }, [])\r\n\r\n  if (!items) return <div style={{padding:20}}>Loading…</div>\r\n\r\n  if (!items.length) return <div style={{padding:20}}>No saved itineraries.</div>\r\n\r\n  return (\r\n    <div style={{padding:20}}>\r\n      <h1>Saved Itineraries</h1>\r\n      <ul>\r\n        {items.map(it => (\r\n          <li key={it.id || it._id}>\r\n            <strong>{it.title}</strong> — {it.destination}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,oIAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,SAAS,6DAAmC;IAElD,IAAA,gHAAS,EAAC;QACR,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO;YACV,OAAO,OAAO,CAAC;YACf;QACF;QAEA,mFAAmF;QACnF,MAAM,GAAG,OAAO,YAAY,CAAC,EAAE;YAAE,SAAS;gBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;YAAC;YAAG,aAAa;QAAU,GACpG,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,IAChB,IAAI,CAAC,CAAA,OAAQ,SAAS,QAAQ,EAAE,GAChC,KAAK,CAAC,IAAM,SAAS,EAAE;IAC5B,GAAG,EAAE;IAEL,IAAI,CAAC,OAAO,qBAAO,qKAAC;QAAI,OAAO;YAAC,SAAQ;QAAE;kBAAG;;;;;;IAE7C,IAAI,CAAC,MAAM,MAAM,EAAE,qBAAO,qKAAC;QAAI,OAAO;YAAC,SAAQ;QAAE;kBAAG;;;;;;IAEpD,qBACE,qKAAC;QAAI,OAAO;YAAC,SAAQ;QAAE;;0BACrB,qKAAC;0BAAG;;;;;;0BACJ,qKAAC;0BACE,MAAM,GAAG,CAAC,CAAA,mBACT,qKAAC;;0CACC,qKAAC;0CAAQ,GAAG,KAAK;;;;;;4BAAU;4BAAI,GAAG,WAAW;;uBADtC,GAAG,EAAE,IAAI,GAAG,GAAG;;;;;;;;;;;;;;;;AAOlC","debugId":null}}]
}